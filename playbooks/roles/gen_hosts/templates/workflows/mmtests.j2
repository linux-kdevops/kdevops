{# Workflow template for mmtests #}
[all]
localhost ansible_connection=local
{% if mmtests_enabled_test_types %}
{% for test_type in mmtests_enabled_test_types %}
{{ kdevops_host_prefix }}-{{ test_type }}
{% if kdevops_baseline_and_dev %}
{{ kdevops_host_prefix }}-{{ test_type }}-dev
{% endif %}
{% endfor %}
{% else %}
{{ kdevops_host_prefix }}-mmtests
{% if kdevops_baseline_and_dev %}
{{ kdevops_host_prefix }}-mmtests-dev
{% endif %}
{% endif %}

[all:vars]
ansible_python_interpreter = "{{ kdevops_python_interpreter }}"

[baseline]
{% if mmtests_enabled_test_types %}
{% for test_type in mmtests_enabled_test_types %}
{{ kdevops_host_prefix }}-{{ test_type }}
{% endfor %}
{% else %}
{{ kdevops_host_prefix }}-mmtests
{% endif %}

[baseline:vars]
ansible_python_interpreter = "{{ kdevops_python_interpreter }}"

{% if kdevops_baseline_and_dev %}
[dev]
{% if mmtests_enabled_test_types %}
{% for test_type in mmtests_enabled_test_types %}
{{ kdevops_host_prefix }}-{{ test_type }}-dev
{% endfor %}
{% else %}
{{ kdevops_host_prefix }}-mmtests-dev
{% endif %}

[dev:vars]
ansible_python_interpreter = "{{ kdevops_python_interpreter }}"

{% endif %}
[mmtests]
{% if mmtests_enabled_test_types %}
{% for test_type in mmtests_enabled_test_types %}
{{ kdevops_host_prefix }}-{{ test_type }}
{% if kdevops_baseline_and_dev %}
{{ kdevops_host_prefix }}-{{ test_type }}-dev
{% endif %}
{% endfor %}
{% else %}
{{ kdevops_host_prefix }}-mmtests
{% if kdevops_baseline_and_dev %}
{{ kdevops_host_prefix }}-mmtests-dev
{% endif %}
{% endif %}

[mmtests:vars]
ansible_python_interpreter = "{{ kdevops_python_interpreter }}"

{% if mmtests_enabled_test_types %}
{% for test_type in mmtests_enabled_test_types %}
[mmtests_{{ test_type | replace('-', '_') }}]
{{ kdevops_host_prefix }}-{{ test_type }}
{% if kdevops_baseline_and_dev %}
{{ kdevops_host_prefix }}-{{ test_type }}-dev
{% endif %}

[mmtests_{{ test_type | replace('-', '_') }}:vars]
ansible_python_interpreter = "{{ kdevops_python_interpreter }}"

{% endfor %}
{% endif %}
