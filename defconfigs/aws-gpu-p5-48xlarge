# AWS P5.48xlarge GPU instance configuration
# 8x NVIDIA H100 80GB GPUs for AI/ML workloads

CONFIG_KDEVOPS_FIRST_RUN=y
CONFIG_TERRAFORM=y
CONFIG_TERRAFORM_AWS=y
CONFIG_TERRAFORM_AWS_DATA_ENABLE=y

# Instance configuration
CONFIG_TERRAFORM_AWS_INSTANCE_FAMILY_P5=y
CONFIG_TERRAFORM_AWS_INSTANCE_P5_48XLARGE=y

# Large root volume for models and datasets
CONFIG_TERRAFORM_AWS_EBS_SIZE=500
CONFIG_TERRAFORM_AWS_EBS_VOLUME_TYPE_GP3=y

# US East 1 typically has best GPU availability
CONFIG_TERRAFORM_AWS_REGION_US_EAST_1=y

# Debian 12 for stability
CONFIG_VAGRANT_DEBIAN=y
CONFIG_VAGRANT_DEBIAN12=y

# Use kdevops user
CONFIG_KDEVOPS_SSH_CONFIG_USER_KDEVOPS=y

# Workflows
CONFIG_KDEVOPS_WORKFLOW_ENABLE_KOTD=y
CONFIG_KDEVOPS_WORKFLOW_KOTD_ENABLE_LATEST=y

# Enable git for kernel development
CONFIG_BOOTLINUX_9P=y
CONFIG_BOOTLINUX_TREE_LINUS=y

# Networking
CONFIG_KDEVOPS_ENABLE_TERRAFORM_SSH_COMPLETE_SETUP=y