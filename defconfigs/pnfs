# Minimal pNFS configuration for thorough pNFS testing

# Use libvirt/QEMU for virtualization
CONFIG_GUESTFS=y
CONFIG_LIBVIRT=y

# Enable workflows
CONFIG_WORKFLOWS=y
CONFIG_WORKFLOW_LINUX_CUSTOM=y

# Linux kernel building with 9P for development
CONFIG_BOOTLINUX=y
CONFIG_BOOTLINUX_9P=y
CONFIG_BOOTLINUX_LINUS=y
CONFIG_BOOTLINUX_TREE_LINUS=y

# Enable testing workflows
CONFIG_WORKFLOWS_TESTS=y
CONFIG_WORKFLOWS_LINUX_TESTS=y
CONFIG_WORKFLOWS_DEDICATED_WORKFLOW=y

# Enable pynfs workflow for pNFS protocol testing
CONFIG_KDEVOPS_WORKFLOW_DEDICATE_PYNFS=y
CONFIG_KDEVOPS_WORKFLOW_ENABLE_PYNFS=y

# Enable pNFS block layout tests
CONFIG_PYNFS_PNFS_BLOCK=y

# Use kdevops-provided NFS server
CONFIG_KDEVOPS_SETUP_NFSD=y

# Enable systemd journal remote for debugging
CONFIG_DEVCONFIG_ENABLE_SYSTEMD_JOURNAL_REMOTE=y
