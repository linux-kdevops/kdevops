# pNFS configuration for nfstest testing suite

# Use libvirt/QEMU for virtualization
CONFIG_GUESTFS=y
CONFIG_LIBVIRT=y

# Enable workflows
CONFIG_WORKFLOWS=y
CONFIG_WORKFLOW_LINUX_CUSTOM=y

# Linux kernel building with 9P for development
CONFIG_BOOTLINUX=y
CONFIG_BOOTLINUX_9P=y
CONFIG_BOOTLINUX_LINUS=y
CONFIG_BOOTLINUX_TREE_LINUS=y

# Enable testing workflows
CONFIG_WORKFLOWS_TESTS=y
CONFIG_WORKFLOWS_LINUX_TESTS=y
CONFIG_WORKFLOWS_DEDICATED_WORKFLOW=y

# Enable nfstest workflow with pNFS testing
CONFIG_KDEVOPS_WORKFLOW_DEDICATE_NFSTEST=y
CONFIG_KDEVOPS_WORKFLOW_ENABLE_NFSTEST=y

# Enable pNFS block layout tests
CONFIG_NFSTEST_NFSTEST_PNFS_ENABLED=y

# Use kdevops-provided NFS server
CONFIG_KDEVOPS_SETUP_NFSD=y

# Enable systemd journal remote for debugging
CONFIG_DEVCONFIG_ENABLE_SYSTEMD_JOURNAL_REMOTE=y