# vLLM Production Stack quick test configuration (CI/demo)
CONFIG_KDEVOPS_FIRST_RUN=n
CONFIG_LIBVIRT=y
CONFIG_LIBVIRT_URI="qemu:///system"
CONFIG_LIBVIRT_HOST_PASSTHROUGH=y
CONFIG_LIBVIRT_MACHINE_TYPE_DEFAULT=y
CONFIG_LIBVIRT_CPU_MODEL_PASSTHROUGH=y
CONFIG_LIBVIRT_VCPUS=4
CONFIG_LIBVIRT_RAM=16384
CONFIG_LIBVIRT_OS_VARIANT="generic"
CONFIG_LIBVIRT_STORAGE_POOL_PATH_CUSTOM=n
CONFIG_LIBVIRT_STORAGE_POOL_CREATE=y
CONFIG_LIBVIRT_EXTRA_STORAGE_DRIVE_NVME=y
# Quick test uses smaller storage (100GB) as it:
# - Uses lightweight opt-125m model (~500MB)
# - Runs shorter benchmarks with less data
# - Still needs space for Kubernetes/Docker infrastructure
CONFIG_LIBVIRT_EXTRA_STORAGE_DRIVE_SIZE="100"

# Network configuration
CONFIG_KDEVOPS_NETWORK_TYPE_NATUAL_BRIDGE=y

# Workflow configuration
CONFIG_WORKFLOWS=y
CONFIG_WORKFLOWS_TESTS=y
CONFIG_WORKFLOWS_LINUX_TESTS=y
CONFIG_WORKFLOWS_DEDICATED_WORKFLOW=y
CONFIG_KDEVOPS_WORKFLOW_DEDICATE_VLLM=y

# vLLM specific configuration - Quick test mode
CONFIG_VLLM_PRODUCTION_STACK=y
CONFIG_VLLM_K8S_MINIKUBE=y
CONFIG_VLLM_HELM_RELEASE_NAME="vllm"
CONFIG_VLLM_HELM_NAMESPACE="vllm-system"
CONFIG_VLLM_MODEL_URL="facebook/opt-125m"
CONFIG_VLLM_MODEL_NAME="opt-125m"
CONFIG_VLLM_REPLICA_COUNT=1
CONFIG_VLLM_REQUEST_CPU=2
CONFIG_VLLM_REQUEST_MEMORY="8Gi"
CONFIG_VLLM_REQUEST_GPU=0
CONFIG_VLLM_GPU_TYPE=""
CONFIG_VLLM_MAX_MODEL_LEN=512
CONFIG_VLLM_DTYPE="auto"
CONFIG_VLLM_GPU_MEMORY_UTILIZATION="0.9"
CONFIG_VLLM_TENSOR_PARALLEL_SIZE=1
CONFIG_VLLM_ROUTER_ENABLED=y
CONFIG_VLLM_ROUTER_ROUND_ROBIN=y
CONFIG_VLLM_OBSERVABILITY_ENABLED=y
CONFIG_VLLM_GRAFANA_PORT=3000
CONFIG_VLLM_PROMETHEUS_PORT=9090
CONFIG_VLLM_API_PORT=8000
CONFIG_VLLM_API_KEY=""
CONFIG_VLLM_HF_TOKEN=""
CONFIG_VLLM_QUICK_TEST=y
CONFIG_VLLM_BENCHMARK_ENABLED=y
CONFIG_VLLM_BENCHMARK_DURATION=30
CONFIG_VLLM_BENCHMARK_CONCURRENT_USERS=5
CONFIG_VLLM_BENCHMARK_RESULTS_DIR="/data/vllm-benchmark"

# A/B testing support
CONFIG_KDEVOPS_BASELINE_AND_DEV=y
CONFIG_WORKFLOW_LINUX_CUSTOM=y
CONFIG_BOOTLINUX_AB_DIFFERENT_REF=y
