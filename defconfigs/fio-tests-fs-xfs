# XFS filesystem performance testing configuration
CONFIG_KDEVOPS_FIRST_RUN=n
CONFIG_LIBVIRT=y
CONFIG_LIBVIRT_URI="qemu:///system"
CONFIG_LIBVIRT_HOST_PASSTHROUGH=y
CONFIG_LIBVIRT_MACHINE_TYPE_DEFAULT=y
CONFIG_LIBVIRT_CPU_MODEL_PASSTHROUGH=y
CONFIG_LIBVIRT_VCPUS=4
CONFIG_LIBVIRT_RAM=4096
CONFIG_LIBVIRT_OS_VARIANT="generic"
CONFIG_LIBVIRT_STORAGE_POOL_PATH_CUSTOM=n
CONFIG_LIBVIRT_STORAGE_POOL_CREATE=y
CONFIG_LIBVIRT_EXTRA_DISKS=y
CONFIG_LIBVIRT_EXTRA_STORAGE_DRIVE_NVME=y

# Network configuration
CONFIG_KDEVOPS_NETWORK_TYPE_NATUAL_BRIDGE=y

# Workflow configuration
CONFIG_WORKFLOWS=y
CONFIG_WORKFLOWS_TESTS=y
CONFIG_WORKFLOWS_LINUX_TESTS=y
CONFIG_WORKFLOWS_DEDICATED_WORKFLOW=y
CONFIG_KDEVOPS_WORKFLOW_DEDICATE_FIO_TESTS=y

# fio-tests filesystem testing with XFS
CONFIG_FIO_TESTS_FILESYSTEM_TESTS=y
CONFIG_FIO_TESTS_FS_XFS=y
CONFIG_FIO_TESTS_FS_XFS_16K_4KS=y
CONFIG_FIO_TESTS_RUNTIME="60"
CONFIG_FIO_TESTS_RAMP_TIME="10"

# Test matrix for XFS filesystem performance
CONFIG_FIO_TESTS_BS_4K=y
CONFIG_FIO_TESTS_BS_8K=y
CONFIG_FIO_TESTS_BS_16K=y
CONFIG_FIO_TESTS_BS_32K=y
CONFIG_FIO_TESTS_BS_64K=n
CONFIG_FIO_TESTS_BS_128K=n

CONFIG_FIO_TESTS_IODEPTH_1=y
CONFIG_FIO_TESTS_IODEPTH_4=y
CONFIG_FIO_TESTS_IODEPTH_8=y
CONFIG_FIO_TESTS_IODEPTH_16=y
CONFIG_FIO_TESTS_IODEPTH_32=n
CONFIG_FIO_TESTS_IODEPTH_64=n

CONFIG_FIO_TESTS_NUMJOBS_1=y
CONFIG_FIO_TESTS_NUMJOBS_2=y
CONFIG_FIO_TESTS_NUMJOBS_4=y
CONFIG_FIO_TESTS_NUMJOBS_8=n
CONFIG_FIO_TESTS_NUMJOBS_16=n

CONFIG_FIO_TESTS_PATTERN_RAND_READ=y
CONFIG_FIO_TESTS_PATTERN_RAND_WRITE=y
CONFIG_FIO_TESTS_PATTERN_SEQ_READ=y
CONFIG_FIO_TESTS_PATTERN_SEQ_WRITE=y
CONFIG_FIO_TESTS_PATTERN_MIXED_75_25=n
CONFIG_FIO_TESTS_PATTERN_MIXED_50_50=n

CONFIG_FIO_TESTS_IOENGINE="io_uring"
CONFIG_FIO_TESTS_DIRECT=y
CONFIG_FIO_TESTS_FSYNC_ON_CLOSE=y
CONFIG_FIO_TESTS_RESULTS_DIR="/data/fio-tests"
CONFIG_FIO_TESTS_LOG_AVG_MSEC=1000

# Graphing configuration
CONFIG_FIO_TESTS_ENABLE_GRAPHING=y
CONFIG_FIO_TESTS_GRAPH_FORMAT="png"
CONFIG_FIO_TESTS_GRAPH_DPI=300
CONFIG_FIO_TESTS_GRAPH_THEME="default"

# Baseline/dev testing setup
CONFIG_KDEVOPS_BASELINE_AND_DEV=y