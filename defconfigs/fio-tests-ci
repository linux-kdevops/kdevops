# Minimal fio-tests configuration for CI testing
# Workflow configuration
CONFIG_WORKFLOWS=y
CONFIG_WORKFLOWS_TESTS=y
CONFIG_WORKFLOWS_LINUX_TESTS=y
CONFIG_WORKFLOWS_DEDICATED_WORKFLOW=y
CONFIG_KDEVOPS_WORKFLOW_DEDICATE_FIO_TESTS=y

# fio-tests specific config for CI
CONFIG_FIO_TESTS_PERFORMANCE_ANALYSIS=y
CONFIG_FIO_TESTS_DEVICE="/dev/null"
CONFIG_FIO_TESTS_RUNTIME="10"
CONFIG_FIO_TESTS_RAMP_TIME="2"

# Minimal test matrix for CI
CONFIG_FIO_TESTS_BS_4K=y
CONFIG_FIO_TESTS_BS_8K=n
CONFIG_FIO_TESTS_BS_16K=n
CONFIG_FIO_TESTS_BS_32K=n
CONFIG_FIO_TESTS_BS_64K=n
CONFIG_FIO_TESTS_BS_128K=n

CONFIG_FIO_TESTS_IODEPTH_1=y
CONFIG_FIO_TESTS_IODEPTH_4=n
CONFIG_FIO_TESTS_IODEPTH_8=n
CONFIG_FIO_TESTS_IODEPTH_16=n
CONFIG_FIO_TESTS_IODEPTH_32=n
CONFIG_FIO_TESTS_IODEPTH_64=n

CONFIG_FIO_TESTS_NUMJOBS_1=y
CONFIG_FIO_TESTS_NUMJOBS_2=n
CONFIG_FIO_TESTS_NUMJOBS_4=n
CONFIG_FIO_TESTS_NUMJOBS_8=n
CONFIG_FIO_TESTS_NUMJOBS_16=n

CONFIG_FIO_TESTS_PATTERN_RAND_READ=y
CONFIG_FIO_TESTS_PATTERN_RAND_WRITE=n
CONFIG_FIO_TESTS_PATTERN_SEQ_READ=n
CONFIG_FIO_TESTS_PATTERN_SEQ_WRITE=n
CONFIG_FIO_TESTS_PATTERN_MIXED_75_25=n
CONFIG_FIO_TESTS_PATTERN_MIXED_50_50=n

CONFIG_FIO_TESTS_IOENGINE="io_uring"
CONFIG_FIO_TESTS_DIRECT=y
CONFIG_FIO_TESTS_FSYNC_ON_CLOSE=y
CONFIG_FIO_TESTS_RESULTS_DIR="/data/fio-tests"
CONFIG_FIO_TESTS_LOG_AVG_MSEC=1000

# Graphing configuration
CONFIG_FIO_TESTS_ENABLE_GRAPHING=y
CONFIG_FIO_TESTS_GRAPH_FORMAT="png"
CONFIG_FIO_TESTS_GRAPH_DPI=150
CONFIG_FIO_TESTS_GRAPH_THEME="default"

# Baseline/dev testing setup
CONFIG_KDEVOPS_BASELINE_AND_DEV=y
