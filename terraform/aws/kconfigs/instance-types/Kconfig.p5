if TERRAFORM_AWS_INSTANCE_TYPE_P5

choice
	prompt "P5 instance size"
	default TERRAFORM_AWS_INSTANCE_P5_48XLARGE_CHOICE
	help
	  Select the size of the P5 instance. P5 instances
	  include NVIDIA H100 GPUs for the most demanding ML workloads.

config TERRAFORM_AWS_INSTANCE_P5_48XLARGE_CHOICE
	bool "p5.48xlarge (8 GPUs, 192 vCPUs, 2048 GiB)"
	help
	  8x NVIDIA H100 80GB GPUs, 192 vCPUs, 2048 GiB memory
	  3200 Gbps network with EFA v2 support
	  30 TB local NVMe SSD storage
	  GPUDirect RDMA support
	  ~$98.32/hour on-demand

endchoice

endif # TERRAFORM_AWS_INSTANCE_TYPE_P5

config TERRAFORM_AWS_INSTANCE_FAMILY_P5
	bool
	default y if TERRAFORM_AWS_INSTANCE_TYPE_P5
	output yaml

config TERRAFORM_AWS_INSTANCE_P5_48XLARGE
	bool
	default y if TERRAFORM_AWS_INSTANCE_TYPE_P5 && TERRAFORM_AWS_INSTANCE_P5_48XLARGE_CHOICE
	output yaml
